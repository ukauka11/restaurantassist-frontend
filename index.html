<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RestaurantAssist • Index</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/styles.css">
  
  <style>
    :root { color-scheme: dark; }
    body {
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      margin: 0;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 22px;
    }

    /* Consistent vertical spacing */
    .stack { margin-top: 0; display:grid; gap:16px; }

    /* Two-column row (desktop), stacked (mobile) */
    .row2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      align-items: stretch;
    }
    @media (max-width: 900px){
      .row2 { grid-template-columns: 1fr; }
    }

    /* Card */
    .card {
      padding: 18px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.08);
      background: #0b1224;
      box-shadow: 0 10px 24px rgba(0,0,0,0.25);
    }
    .card h2 {
      margin: 0 0 10px 0;
      font-size: 18px;
      color: #e2e8f0;
    }
    .card p { margin: 8px 0; color: #cbd5e1; line-height: 1.6; }

    /* Hero */
    .hero {
      margin-top: 18px;
      padding: 22px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.08);
      background: radial-gradient(1200px 420px at 10% 0%, rgba(56,189,248,0.18), transparent 55%),
                  radial-gradient(900px 380px at 90% 10%, rgba(34,197,94,0.16), transparent 55%),
                  #0b1224;
      box-shadow: 0 10px 24px rgba(0,0,0,0.25);
    }
    .badge {
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(34,197,94,0.35);
      background: rgba(34,197,94,0.12);
      color: #bbf7d0;
      font-weight: 800;
      font-size: 12px;
      margin-bottom: 12px;
      width: fit-content;
    }
    .badge .tick {
      width: 10px; height: 10px;
      border-radius: 2px;
      background: #22c55e;
      box-shadow: 0 0 16px rgba(34,197,94,0.35);
      display:inline-block;
    }
    h1 {
      margin: 0;
      font-size: 42px;
      line-height: 1.1;
      letter-spacing: -0.6px;
      color: #fff;
    }
    .sub {
      margin-top: 10px;
      font-size: 16px;
      color: #cbd5e1;
      max-width: 900px;
      line-height: 1.6;
    }
    .heroActions {
      margin-top: 16px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }
    .tiny {
      margin-top: 10px;
      font-size: 12px;
      color: #94a3b8;
    }

    /* Lists + example */
    ul.clean { margin: 10px 0 0 18px; color: #cbd5e1; }
    ul.clean li { margin: 8px 0; }
    .example {
      margin-top: 14px;
      padding: 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.08);
      background: #070b16;
      color: #cbd5e1;
      font-size: 14px;
      line-height: 1.6;
    }
    code { background: rgba(255,255,255,0.06); padding: 2px 6px; border-radius: 6px; }

    /* Form */
    label { display:block; font-size: 13px; color:#94a3b8; margin: 10px 0 6px; }
    input {
      width: 100%;
      box-sizing: border-box;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.12);
      background: #0a1020;
      color: #e5e7eb;
      outline: none;
    }
    input:focus { border-color: rgba(56,189,248,0.8); }

    .msg { margin-top: 10px; font-size: 13px; color: #cbd5e1; min-height: 18px; }
    .err { color: #fca5a5; }
    .ok  { color: #86efac; }

    /* Pricing */
    .pricingHead {
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 10px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }
    .pricingHead h2 { margin:0; }
    .pricingHead .hint { color:#94a3b8; font-size: 13px; margin-top: 4px; }

    .planStack { display: grid; gap: 14px; margin-top: 12px; }
    .plan {
      padding: 16px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
    }
    .plan.featured{
      border-color: rgba(56,189,248,0.40);
      box-shadow: 0 0 0 1px rgba(56,189,248,0.25);
      background:
        radial-gradient(700px 260px at 15% 0%, rgba(56,189,248,0.10), transparent 55%),
        rgba(255,255,255,0.04);
    }
    .planTop {
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      gap: 10px;
      flex-wrap: wrap;
    }
    .planName { font-size: 18px; font-weight: 900; color:#fff; }
    .price { font-weight: 900; color:#e2e8f0; }
    .price small { font-weight: 800; color:#94a3b8; }

    .pill {
      display:inline-flex;
      align-items:center;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 12px;
      border: 1px solid rgba(56,189,248,0.35);
      background: rgba(56,189,248,0.12);
      color: #c7f9ff;
      margin-left: 8px;
    }

    .plan ul { margin: 10px 0 0 18px; color:#cbd5e1; }
    .plan ul li { margin: 7px 0; }

    .planActions {
      margin-top: 12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .planNote { color:#94a3b8; font-size: 12px; }

    /* Footer */
    .footer {
      margin: 8px 0 8px;
      text-align: center;
      color: #94a3b8;
      font-size: 12px;
    }
    a { color:#7dd3fc; }
  </style>
</head>

<body>
  <div class="container">

    <!-- NAV -->
    <div class="nav" id="siteNav">
      <div class="navTop">
        <div class="brand">
          <div class="dot"></div><span>RestaurantAssist</span>
        </div>
    
        <button class="navToggle btn" id="navToggle" aria-expanded="false" aria-controls="navLinks">
          ☰ Menu
        </button>
      </div>
    
      <div class="navlinks" id="navLinks">
        <a class="btn active" href="/">Home</a>
        <a class="btn" href="/dashboard.html">Dashboard</a>
        <a class="btn" href="/docs.html">Docs</a>
        <a class="btn" href="/support.html">Support</a>
      </div>
    </div>

    <div class="stack">

      <!-- HERO -->
      <div class="hero">
        <div class="badge"><span class="tick"></span> Google Autopilot available (connect once)</div>

        <h1>Never think about review replies again.</h1>
        <div class="sub">
          RestaurantAssist writes professional, on-brand responses to customer reviews — and tells you
          <strong>which ones actually need attention</strong>. Built for restaurant owners: <strong>no prompts</strong>,
          no guessing, no busywork.
        </div>

        <div class="heroActions">
          <a class="btn primary" href="#start">Start free trial</a>
          <a class="btn" href="#chatgpt">Why not just ChatGPT?</a>
        </div>

        <div class="tiny">
          Used by restaurants to respond faster, more consistently, and with less stress.
        </div>
      </div>

      <!-- ROW: What you get + Start trial -->
      <div class="row2">

        <div class="card">
          <h2>What you get</h2>
          <ul class="clean">
            <li><strong>No prompting required:</strong> paste the review and click Generate.</li>
            <li><strong>Platform-aware tone:</strong> Google ≠ Yelp ≠ Facebook (we adjust automatically).</li>
            <li><strong>Urgent review flags:</strong> missing items, rude service, long wait time, wrong order.</li>
            <li><strong>Consistency:</strong> your replies sound like one brand voice, every time.</li>
            <li><strong>Patterns & summaries:</strong> see what customers keep mentioning.</li>
          </ul>

          <div class="example">
            <div><strong>Customer:</strong> “Food was great but the wait time was really long.”</div>
            <div style="margin-top:8px;">
              <strong>RestaurantAssist reply:</strong> “Thanks for your feedback! We’re glad you enjoyed the food and apologize for the wait. We’re working to improve service speed and appreciate your patience.”
            </div>
          </div>

          <div class="tiny" style="margin-top:10px;">
            Tip: If a review mentions <em>missing items</em> or <em>wrong order</em>, RestaurantAssist automatically raises urgency.
          </div>
        </div>

        <div class="card" id="start">
          <h2>Start free trial</h2>
          <p style="margin-top:-4px;">
            Choose a short business ID (letters/numbers/dashes) — you’ll use it for your account.
          </p>
        
          <label for="businessId">Business ID (no spaces)</label>
          <input id="businessId" placeholder="e.g. california-pizza-kitchen" />
        
          <label for="email">Email</label>
          <input id="email" type="email" placeholder="you@yourrestaurant.com" />
        
          <!-- ONE hidden plan input (keep only this one) -->
          <input id="plan" type="hidden" value="starter" />
        
          <div class="planLabel">
            <label>Plan</label>
            <div class="hint">Selected: <span id="planSelectedText">Starter</span></div>
          </div>

          <div class="planHelp">
            Not sure? <button type="button" class="linkBtn" id="planCompareBtn">Compare plans</button>
          </div>
          
          <div class="planTooltip" id="planTooltip" style="display:none;">
            <div><strong>Starter</strong>: core replies + urgency flags</div>
            <div><strong>Pro</strong>: higher limits + brand voice presets</div>
          </div>

          <div class="planPick" role="radiogroup" aria-label="Choose a plan">
            <button type="button" class="planBtn selected" data-plan="starter" id="chooseStarter" aria-checked="true">
              <div class="planName">Starter</div>
              <div class="planMeta">$29.99/mo • core replies</div>
            </button>
        
            <button type="button" class="planBtn" data-plan="pro" id="choosePro" aria-checked="false">
              <div class="planName">
                Pro <span class="miniPill">Most popular</span>
              </div>
              <div class="planMeta">$59.99/mo • priority + extras</div>
            </button>
          </div>
        
          <button class="btn primary" id="startTrialBtn" style="width:100%; margin-top:12px;">
            Start Free Trial
          </button>
          <div id="msg" class="msg"></div>
          <p class="tiny">
            After checkout, your API key is emailed. If it lands in Spam, click <strong>“Not spam”</strong>.
          </p>
        </div>
      </div>

      <!-- PRICING (full width, stacked plans) -->
      <div class="card" id="pricing">
        <div class="pricingHead">
          <div>
            <h2>Pricing</h2>
            <div class="hint">Simple plans. Start with Starter. Upgrade when you’re busier.</div>
          </div>
        </div>

        <div class="planStack">

          <div class="plan featured" id="planStarterCard">
            <div class="planTop">
              <div>
                <div class="planName">Starter</div>
                <div class="tiny" style="margin-top:4px;">Great for 1 location getting started.</div>
              </div>
              <div class="price">$29.99<small>/mo</small></div>
            </div>

            <ul>
              <li>Paste review → Generate reply</li>
              <li>Platform-aware tone (Google/Yelp/Facebook)</li>
              <li>Urgency flags for bad reviews</li>
              <li>Basic summaries (top issues)</li>
            </ul>

            <div class="planActions">
              <a class="btn primary" id="pricingChooseStarter" href="#start">Choose Starter</a>
              <div class="planNote">Good for most restaurants.</div>
            </div>
          </div>

          <div class="plan" id="planProCard">
            <div class="planTop">
              <div>
                <div class="planName">Pro <span class="pill">Most popular</span></div>
                <div class="tiny" style="margin-top:4px;">For busy restaurants that want consistency and speed.</div>
              </div>
              <div class="price">$59.99<small>/mo</small></div>
            </div>

            <ul>
              <li>Everything in Starter</li>
              <li>Brand voice presets (friendly / professional)</li>
              <li>Better summaries & patterns</li>
              <li>Higher usage limits</li>
            </ul>

            <div class="planActions">
              <a class="btn primary" id="pricingChoosePro" href="#start">Choose Pro</a>
              <div class="planNote">Upgrade anytime.</div>
            </div>
          </div>

        </div>

        <div class="tiny" style="margin-top:10px;">
          Multi-location plan coming soon. Need it now? <a href="/support.html">Contact support</a>
        </div>
      </div>

      <!-- WHY NOT CHATGPT -->
      <div class="card" id="chatgpt">
        <h2>Why not just ChatGPT?</h2>
        <p><strong>ChatGPT gives answers. RestaurantAssist runs the process.</strong></p>

        <p>
          Most restaurant owners don’t want to open an AI tool, think about prompts, change the tone for each platform,
          and remember what they replied last time. They just want reviews handled fast and consistently.
        </p>

        <ul class="clean">
          <li><strong>No prompting:</strong> paste the review. That’s it.</li>
          <li><strong>Restaurant tone baked in:</strong> professional on Google, empathetic on Yelp, friendly on Facebook.</li>
          <li><strong>Urgency flags:</strong> the “uh oh” reviews get highlighted.</li>
          <li><strong>Consistent voice:</strong> no robotic replies, no mood swings.</li>
          <li><strong>Patterns:</strong> see what customers keep mentioning across time.</li>
        </ul>

        <p class="tiny" style="margin-top:10px;">
          If you’re replying manually, you’re wasting time every single day.
        </p>
      </div>

      <!-- HOW IT WORKS -->
      <div class="card">
        <h2>How it works (fits into your day)</h2>
        <ol class="clean">
          <li>Paste a customer review (or let Google Autopilot handle it automatically).</li>
          <li>We generate a ready-to-post reply — professional, empathetic, and on-brand.</li>
          <li>You copy, approve, or auto-post depending on the platform.</li>
        </ol>

        <p class="tiny">
          Honest note: full automation depends on platform rules. Google can be fully automated; other platforms may require manual copy/paste.
        </p>
      </div>

      <div class="footer">
        © <span id="yr"></span> RestaurantAssist • Questions? <a href="mailto:support@restaurantassist.app">support@restaurantassist.app</a>
      </div>

    </div>
  </div>

  <script>
    document.getElementById("yr").textContent = new Date().getFullYear();
  
    const API_BASE = "https://review-assistant-api.onrender.com";
  
    // ----- message helper -----
    const msgEl = document.getElementById("msg");
    function setMsg(text, cls){
      if (!msgEl) return;
      msgEl.className = "msg " + (cls || "");
      msgEl.textContent = text || "";
    }
  
    // ----- Plan selection (Start free trial card) -----
    const planEl = document.getElementById("plan");
    const planHint = document.getElementById("planHint"); // optional
    const starterBtn = document.getElementById("chooseStarter");
    const proBtn = document.getElementById("choosePro");
  
    function selectPlan(plan){
      if (!planEl) return;
  
      planEl.value = plan;

      document.getElementById("planStarterCard")?.classList.toggle("featured", plan === "starter");
      document.getElementById("planProCard")?.classList.toggle("featured", plan === "pro");
  
      // button UI
      starterBtn?.classList.toggle("selected", plan === "starter");
      proBtn?.classList.toggle("selected", plan === "pro");
  
      starterBtn?.setAttribute("aria-checked", plan === "starter" ? "true" : "false");
      proBtn?.setAttribute("aria-checked", plan === "pro" ? "true" : "false");
  
      document.getElementById("planSelectedText").textContent = (plan === "pro" ? "Pro" : "Starter");
  
      console.log("[plan] selected =", planEl.value);
    }
  
    starterBtn?.addEventListener("click", () => selectPlan("starter"));
    proBtn?.addEventListener("click", () => selectPlan("pro"));

    const planCompareBtn = document.getElementById("planCompareBtn");
    const planTooltip = document.getElementById("planTooltip");
    
    planCompareBtn?.addEventListener("click", () => {
      const isOpen = planTooltip.style.display !== "none";
      planTooltip.style.display = isOpen ? "none" : "block";
    });

    // ----- Pricing section buttons (scroll to start + select plan) -----
    const pricingStarter = document.getElementById("pricingChooseStarter");
    const pricingPro = document.getElementById("pricingChoosePro");
  
    pricingStarter?.addEventListener("click", () => selectPlan("starter"));
    pricingPro?.addEventListener("click", () => selectPlan("pro"));
  
    // set default UI on load
    selectPlan(planEl?.value || "starter");
  
  
    // ----- Start Trial button -----
    const startTrialBtn = document.getElementById("startTrialBtn");
  
    startTrialBtn?.addEventListener("click", async () => {
      const business_id = document.getElementById("businessId").value.trim().toLowerCase();
      const email = document.getElementById("email").value.trim().toLowerCase();
      const plan = (document.getElementById("plan")?.value || "starter").trim().toLowerCase();
  
      setMsg("");
  
      if (!business_id) return setMsg("Please enter a business id.", "err");
      if (!email.includes("@")) return setMsg("Please enter a valid email.", "err");
  
      startTrialBtn.disabled = true;
      startTrialBtn.textContent = "Creating checkout…";
  
      try {
        const res = await fetch(`${API_BASE}/billing/create-checkout`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ business_id, email, plan })
        });
  
        const text = await res.text();
        let data;
        try { data = JSON.parse(text); } catch { data = { raw: text }; }
  
        if (!res.ok) {
          console.error("Checkout failed:", res.status, data);
          return setMsg(data?.detail || data?.raw || "Failed to create checkout.", "err");
        }
  
        if (!data.checkout_url) return setMsg("No checkout URL returned.", "err");
  
        window.location.href = data.checkout_url;
      } catch (e) {
        console.error("Checkout error:", e);
        setMsg("Checkout failed. Open DevTools → Console for details.", "err");
      } finally {
        startTrialBtn.disabled = false;
        startTrialBtn.textContent = "Start Free Trial";
      }
    });
  </script>
  <script>
    (function(){
      const nav = document.getElementById("siteNav");
      const toggle = document.getElementById("navToggle");
      const links = document.getElementById("navLinks");
      if (!nav || !toggle || !links) return;
  
      toggle.addEventListener("click", () => {
        const isOpen = nav.classList.toggle("open");
        toggle.setAttribute("aria-expanded", isOpen ? "true" : "false");
      });
  
      // Close menu after tapping a link (mobile)
      links.querySelectorAll("a").forEach(a => {
        a.addEventListener("click", () => {
          nav.classList.remove("open");
          toggle.setAttribute("aria-expanded", "false");
        });
      });
    })();
  </script>
</body>
</html>
